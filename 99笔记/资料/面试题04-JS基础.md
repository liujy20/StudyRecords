## 面试题04-JS基础

### 一. 基础练习题

一、使用原型或class的方式来实现js的链式调用，对数字进行加减乘除

```js
new MyCalculator(100).add(1).reduce(100)
```

链式调用：jquery就是链式调用

```js
$("#id").attr().removeClass().html()
```

```js
class MyCalculator{
    constructor(val){
        this.value = val
    }
    add(val){
        this.value+=val
        return this;
    }
    reduce(val){
        this.value-=val
        return this
    }
}
```

二、找出数组中第k大和第m大的数字之后,获取所有满足条件的综合

重复的也可以计算

```js
[1,2,3,4,5,6,6,3]
k = 1 ---> 6---2
m = 2 ---> 5---1
```

```js
// map保存：[6:2,5:1]
function getNum(arr,k,m){
    let map = new Map()
    arr.forEach(item=>{
        //判断key是否存咋
        if(map.has(item)){
            //注意数据累加的过程，必须满足数字
           map.set(item,map.get(item) + 1)
        }else{
            map.set(item,1)
        }
	})
    //可以将map转化为二维数组  [[6,2],[5,1]]
    const result = Array.from(map)
    result.sort*((a,b)=>{
        return b[0] - a[0]
    })
    //通过k和m来获取指定的值,累加起来
    const sum = 0;
    
  	return sum
    
}
```

三,在JS中实现sleep函数,等待若干秒后执行后面代码

```js
//代码 1
async ()=>{
    console.log("hello")
	await sleep(2000)
	console.log("word")
}
//代码2
```

设计sleep

```js
function sleep(time){
    return Promise((resolve,reject)=>{
        //setTimeout(()=>{
           // resolve()
        //},2000)
        const date1 = new Date().getTime()
        while(new newDate().getTime() - date1 < time){}
        resolve()
    })
}
```

```js
async function show(){
    const res = await fetchData(){} //{code:1,data:[]}
    return res
}

const flag = show()  //Promise()

```

### 二. 事件循环(Event Loop)

