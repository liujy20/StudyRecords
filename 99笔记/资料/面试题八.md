## 面试题八

### 一、怎么实现文本校验，不通过插件，对表单中的几十几百个文本进行校验？是否需要抽公共逻辑？

第三方表单验证。不止elementui antd，js已经有很多表单验证从插件

基于函数式编程，配合事件。

单个文本框，blur、change、input

封装函数，这个函数需要接受验证节点、接受你验证规则。

框架中，vue，验证采用混入的方式

react中我们验证，抽取为插件，js结尾验证。

v-model.lazy ---》文本框输入完成 验证

v-model.number 转化为数字



### 二、filter过滤大量数据，是否有性能影响？有，如何解决？ 没有？为什么？

前端过滤器，数组里提供的api

有性能影响。当数据量少的时候，不管用filter、循环、其他操作，效率区别不大。

随着数据量上升，filter效率越来越低。10000开始

for循环来进行过滤，可以降级时间复杂

splice，针对数组进行添加、修改、删除

splice修改原数组，但是内存对数据操作效率非常高



### 三、你做的项目中对密码有什么限制

一、前端肯定需要写正则验证，正则断言（要求密码，必须包含指定哪些东西）

```js
/^[a-z0-9_%]{6}$/
```

要求，必须要有字母，数字

正则断言：查询一下。

二、后端（前端），需要进行加密，一定不可逆加密。MD5\SHA1，生成的密码保持数据库

三、不可逆加密，加盐值。MD5加密的时候，给他一个唯一值，比如编号。



### 四、你做的项目对于用户体验上来说有什么优化

用户体验表现在哪些方面：

1. 页面加载速度，首屏渲染白屏，

   减少首屏加载数据，压缩首屏的图片之内，减少请求。

   SSR，服务器渲染，首屏数据服务器组装好了拿回来，浏览器直接渲染

   CRS:客户端渲染

2. 数据更新块

   非必要的数据可以不做响应式。

   将数据data外面。

   Object.freeze()将不想作为响应式数据，进行冻结。

   Vue底层加载，不会变成响应式

3. 交互不卡顿

   动画的实现。

   settimeout、setinterval 掉帧

   requestAnimationFrame这个api 实现定时器功能。无法控制时间，

   根据屏幕刷新屏幕来控制。

   H5游戏，requestAnimationFrame来控制任务移动，场景更新

4. token无感刷新

   token过期一般都回到登录页面。

   token只有30分钟

   token的过期时间比较端，随时都在刷新，用户感知不到token过期。

   

### 五、页面上有且只有一个button按钮，如何点击button以外的地方也能触发点击事件，不能新增其他标签

事件流：

事件捕获

给按钮绑定一个事件，给body绑定一个事件

DOM2级

addEventListener("click",function(){},true)



JS代码同时给多个元素绑定事件，body、按钮同时绑定。

点击body，触发按钮



作业要求：

1. 轮播图完成

2. 抽奖

   自己定义10个学生。

   ```
   let array = [
   {id:1,name:"xiaowang"}
   ]
   ```

   每次抽2个学生

   一直随机找

   点击暂停

   





